(this.webpackJsonpimage_repo_frontend=this.webpackJsonpimage_repo_frontend||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Home",(function(){return U})),a.d(n,"ImageClicked",(function(){return P}));var c=a(0),o=a.n(c),i=a(10),l=a.n(i),s=(a(85),a(11)),r=a(66),d=a.n(r),u=(a(86),a(49)),j=a(16),m=a.n(j),b=a(147),g=a(148),h=a(154),p=a(146),f=a(144),O=a(44),x=a.n(O),I=a(141),k=a(155),C="http://178.128.231.244:5000",v=Object(I.a)((function(e){return Object(k.a)({root:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",overflow:"hidden",textAlign:"left"},gridList:{width:1200},titleBar:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)",fontFamily:"Varela Round, sans-serif",fontStyle:"normal"},icon:{color:"white"},iconFilled:{color:"red"}})})),w=Object(I.a)((function(e){return Object(k.a)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{width:1200},titleBar:{background:"transparent"},icon:{color:"white"}})})),y=a(68),S=a.n(y),N=a(69),A=a.n(N),L=a(3),T=function(e){var t=Object(c.useState)(e.likes),a=Object(s.a)(t,2),n=a[0],o=a[1],i=Object(c.useState)(e.didUserLikeImage),l=Object(s.a)(i,2),r=l[0],d=l[1],u=v();console.log("REALODING"),Object(c.useEffect)((function(){d(e.didUserLikeImage)}),[e.imgId]);var j=function(e,t,a){m.a.post(e,t,a).then((function(e){-1!==e.data.likes&&(o(n+1),d(!0))})).catch((function(e){console.log(e)}))};return Object(L.jsx)(p.a,{title:n,titlePosition:"top",actionIcon:r?Object(L.jsx)(f.a,{"aria-label":"star ".concat("hi"),className:u.iconFilled,children:Object(L.jsx)(S.a,{})}):Object(L.jsx)(f.a,{"aria-label":"star ".concat("hi"),className:u.icon,onClick:function(){!function(){var t="".concat(C,"/like"),a={userId:e.handleId(),imgId:e.imgId};j(t,a,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"text/plain"}})}()},children:Object(L.jsx)(A.a,{})}),actionPosition:"left",className:u.titleBar})},F="".concat(C,"/all"),E="".concat(C,"/likes/"),R="".concat(C,"/images/"),U=function(e){var t=Object(c.useState)({items:[],likedImages:[]}),a=Object(s.a)(t,2),n=a[0],o=a[1],i=v(),l=w();console.log("home reloaded");var r=function(t){m.a.get(E+e.handleId(),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){console.log(e.data),o({items:t,likedImages:e.data.likedIds})})).catch((function(e){console.log(e),console.log(F)}))};return Object(c.useEffect)((function(){m.a.get(F,{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){console.log(e.data),r(e.data.items)})).catch((function(e){console.log(e),console.log(F)}))}),[]),Object(L.jsx)("div",{children:Object(L.jsx)("div",{className:i.root,children:Object(L.jsx)(b.a,{cellHeight:300,className:i.gridList,cols:3,children:n.items.map((function(t,a){return Object(L.jsx)(h.a,Object(u.a)(Object(u.a)({in:!0},{timeout:100*(a+1)}),{},{children:Object(L.jsxs)(g.a,{children:[Object(L.jsx)("img",{src:R+t.name,onClick:function(){e.clickImage(t.name)}}),Object(L.jsx)(p.a,{titlePosition:"bottom",actionIcon:Object(L.jsx)(f.a,{"aria-label":"star ".concat("hi"),className:i.icon,onClick:function(){e.handleOpenGraph(t.name)},children:Object(L.jsx)(x.a,{})}),actionPosition:"left",className:l.titleBar}),Object(L.jsx)(T,{likes:t.likes,handleId:e.handleId,imgId:t.id,didUserLikeImage:n.likedImages.includes(t.id)})]},t.id)}))}))})})})},B="".concat(C,"/images/"),P=function(e){var t=Object(c.useState)({items:[],likedImages:[]}),a=Object(s.a)(t,2),n=a[0],o=a[1],i=v(),l=w(),r="".concat(C,"/getSimilarImages/").concat(e.imageClicked),d="".concat(C,"/likes/"),u=function(t){m.a.get(d+e.handleId(),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){console.log(e.data),o({items:t,likedImages:e.data.likedIds})})).catch((function(e){console.log(e),console.log(r)}))};return Object(c.useEffect)((function(){m.a.get(r,{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){console.log(e.data),u(e.data.items)})).catch((function(e){console.log(e)}))}),[e.imageClicked]),Object(L.jsxs)("div",{className:"selected",children:[Object(L.jsx)("p",{children:"Similar Images to Selected Image"}),Object(L.jsx)("div",{className:i.root,children:Object(L.jsxs)(b.a,{cellHeight:400,className:i.gridList,cols:3,children:[Object(L.jsx)(g.a,{cols:3,children:Object(L.jsx)("img",{src:B+e.imageClicked})},"main"),n.items.map((function(t,a){return Object(L.jsx)(h.a,{in:!0,timeout:200*(a+1),children:Object(L.jsxs)(g.a,{children:[Object(L.jsx)("img",{src:B+t.name,onClick:function(){e.clickImage(t.name)}}),Object(L.jsx)(p.a,{titlePosition:"bottom",actionIcon:Object(L.jsx)(f.a,{"aria-label":"star ".concat("hi"),className:i.icon,onClick:function(){e.handleOpenGraph(t.name)},children:Object(L.jsx)(x.a,{})}),actionPosition:"left",className:l.titleBar}),Object(L.jsx)(T,{likes:t.likes,handleId:e.handleId,imgId:t.id,didUserLikeImage:n.likedImages.includes(t.id)})]},t.id)})}))]})})]})},G=a(149),H=a(152),W=a(150),D=Object(I.a)((function(e){return Object(k.a)({paper:{backgroundColor:"#282C34",borderRadius:"4px",boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)",padding:e.spacing(2,4,3),width:"700px",height:"400px",fontFamily:"Roboto",color:"gray"},title:{fontSize:14},textfield:{color:"#F8FCFF,"},input:{color:"white"},root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:3,border:0,color:"white",height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"},label:{textTransform:"capitalize"}})})),_=function(e){var t=D(),a=Object(c.useState)(""),n=Object(s.a)(a,2),o=n[0],i=n[1],l=Object(c.useState)(!1),r=Object(s.a)(l,2),d=r[0],u=r[1],j=Object(c.useRef)(null),b=function(t,a,n){m.a.post(t,a,n).then((function(t){u(!1),e.clickImage(t.data.items[0].name),e.handleClose()})).catch((function(e){console.log(e),u(!0)}))},g=function(e){console.log(e.target.value),i(e.target.value)};return Object(L.jsxs)(G.a,{className:t.paper,children:[Object(L.jsx)("p",{className:"modalTitle",children:"Upload your image"}),Object(L.jsx)("p",{className:"modalText",children:"Wtih a URL"}),Object(L.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e="".concat(C,"/createImage");b(e,o,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"text/plain"}})}()},children:[d?Object(L.jsx)(H.a,{error:!0,id:"standard-full-width",label:"URL",style:{margin:8},placeholder:"www.image.com/image.jpg",helperText:"Enter URL of Image you wish you upload",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{className:t.input},value:o,onInput:g}):d?void 0:Object(L.jsx)(H.a,{id:"standard-full-width",label:"URL",style:{margin:8},placeholder:"www.image.com/image.jpg",helperText:"Enter URL of Image you wish you upload",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{className:t.input},value:o,onInput:g}),Object(L.jsx)(W.a,{type:"submit",classes:{root:t.root,label:t.label},children:"Submit"})]}),Object(L.jsx)("p",{className:"modalText",children:"Or Upload the file"}),Object(L.jsx)("input",{type:"file",id:"file",ref:j,style:{display:"none"},onChange:function(e){if(console.log("***submited"),null!==j.current){console.log(j.current.files);var t=e.currentTarget.files;Array.from(t).forEach((function(t){try{!function(e){var t="".concat(C,"/createImage"),a=e.type;if("image"!==a.split("/")[0])throw new Error("Is not an Image");b(t,e,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":a}})}(t)}catch(a){e.target.value=null,alert("file was not an image")}}))}}}),Object(L.jsx)(W.a,{onClick:function(){null!==j.current&&(j.current.click(),console.log(j.current.files),console.log("buttonclick"))},classes:{root:t.root,label:t.label},children:"Open file upload window"})]})},M=a(47),z=a.n(M),J=function(e){var t=Object(c.useRef)(null),a=Object(c.useState)(),n=Object(s.a)(a,2),o=n[0],i=n[1],l=Object(c.useState)(null),r=Object(s.a)(l,2),d=r[0],u=r[1],j="".concat(C,"/graph/").concat(e.imgToGraph);return Object(c.useEffect)((function(){m.a.get(j,{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){console.log(e.data),i(e.data)})).catch((function(e){console.log(e)}));var e=z.a.GraphingCalculator(t.current);e.setMathBounds({left:0,right:256,bottom:0,top:256}),u(e)}),[e.imgToGraph]),Object(c.useEffect)((function(){if(null!==t.current&&null!==d){if(void 0!==o){o.data.map((function(e){d.setExpression({latex:e,color:z.a.Colors.BLUE})})),console.log(d.getState())}console.log(o)}}),[o]),Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{style:{width:"1200px",height:"50px",backgroundColor:"#282C34",marginBottom:"25px",borderRadius:"4px",color:"white",padding:"5px",display:"flex",justifyContent:"center"},children:Object(L.jsx)("p",{children:"Image created with Math Functions, depending on the detail of the Image this may take several minutes"})}),Object(L.jsx)("div",{id:"calculator",style:{width:"1200px",height:"900px"},ref:t})]})},V=a(153),q=a(151),K=a(70),Q=a.n(K),X=a(48),Y=a.n(X),Z=a(71),$=a.n(Z),ee=Object(I.a)((function(e){return Object(k.a)({root:{"& > *":{margin:e.spacing(1)},margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},extendedIcon:{marginRight:e.spacing(1)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}})}));console.log(n);var te=function(){var e=ee(),t=Object(c.useState)({value:"Home"}),a=Object(s.a)(t,2),i=a[0],l=a[1],r=Object(c.useState)(""),u=Object(s.a)(r,2),j=u[0],m=u[1],b=o.a.useState(!1),g=Object(s.a)(b,2),h=g[0],p=g[1],f=o.a.useState(!1),O=Object(s.a)(f,2),x=O[0],I=O[1],k=Object(c.useState)(""),C=Object(s.a)(k,2),v=C[0],w=C[1],y=function(){p(!1)},S=function(e){I(!0),w(e)},N=function(){I(!1)},A=function(e){m(e),l({value:"ImageClicked"})},T=function(){if(document.cookie)return document.cookie.split("=")[1];var e="id=".concat(d()(),";expires=").concat(new Date("01/01/2100").toUTCString());return document.cookie=e,document.cookie.split("=")[1]};return Object(L.jsx)("div",{className:"App",children:Object(L.jsxs)("header",{className:"App-header",children:[Object(L.jsx)("p",{className:"title",children:"Image Repository"}),function(e){var t;return t=n[e],Object(L.jsx)(t,{clickImage:A,imageClicked:j,handleOpenGraph:S,handleId:T})}(i.value),Object(L.jsxs)("div",{className:e.root,children:[Object(L.jsx)(q.a,{color:"primary","aria-label":"add",onClick:function(){p(!0)},children:Object(L.jsx)(Q.a,{})}),"Home"===i.value?Object(L.jsx)(q.a,{color:"secondary","aria-label":"home",disabled:!0,children:Object(L.jsx)(Y.a,{})}):"ImageClicked"===i.value?Object(L.jsx)(q.a,{color:"secondary","aria-label":"home",onClick:function(){m(""),l({value:"Home"})},children:Object(L.jsx)(Y.a,{})}):void 0,Object(L.jsx)(q.a,{color:"primary","aria-label":"add",onClick:function(){window.scrollTo(0,0)},children:Object(L.jsx)($.a,{})})]}),Object(L.jsx)(V.a,{open:h,onClose:y,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:e.modal,children:Object(L.jsx)(_,{handleClose:y,clickImage:A})}),Object(L.jsx)(V.a,{open:x,onClose:N,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:e.modal,children:Object(L.jsx)(J,{handleClose:N,clickImage:A,imgToGraph:v})})]})})},ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,156)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),o(e),i(e)}))};l.a.render(Object(L.jsx)(o.a.StrictMode,{children:Object(L.jsx)(te,{})}),document.getElementById("root")),ae()},85:function(e,t,a){},86:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.31cc40e8.chunk.js.map